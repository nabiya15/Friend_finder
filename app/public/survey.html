<!doctype html>
<html>
<head>
	<title>Friend Finder | Survey</title>
	<!-- jquery CDN -->
	<script src="https://code.jquery.com/jquery.js"></script>
	<!-- bootstrap CDN -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> 
	<!-- link to style.css -->
	<link rel="stylesheet" href="./style.css" type="text/css">
	

</head>
<body>
	<h1>Survey Questions</h1>	
	<form>
		<div id="personalInfo">
			<div class="form-group">
				<label for="name">Name</label>
				<input type="text" class="form-control valid" id="name" aria-describedby="yourName" placeholder="Enter Your Name">
			</div>
			<div class="form-group">
				<label for="pic">Picture</label>
				<input type="text" class="form-control" id="pic" placeholder="Link to your Picture">
			</div>
		</div>
		<div class="form-group">
			<label for="1">1. How do you describe yourself?</label>
			<select class="form-control" id="1">
				<option hidden="" value="0" value="0">Select an option</option>
				<option value="1">1.Extremely Introvert</option>
				<option value="2">2.I am an Introvert, but sometimes like to try new stuff</option>
				<option value="3">3.I'm balanced</option>
				<option value="4">4.Extrovert</option>
				<option value="5">5.I'm crazy when it comes to trying new things)</option>
			</select><br>
			<label for="2">2. Do you look at educational background and class of the person while making friends?</label>
			<select class="form-control" id="2">
				<option hidden="" value="0" >Select an option</option>
				<option value="1">1. Always</option>
				<option value="2">2. Probably</option>
				<option value="3">3. Sometimes</option>
				<option value="4">4. Not at all</option>
				<option value="5">5. Cant say(Strongly Agree)</option>
			</select><br>
			<label for="3">3. Of the choices below, which is your greatest wish?</label>
			<select class="form-control" id="3">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Intelligence</option>
				<option value="2">2. Personality</option>
				<option value="3">3. Looks</option>
				<option value="4">4. Wealth</option>
				<option value="5">5. Nature</option>
			</select><br>
			<label for="4">4. You're planning a surprise vacation for the two of you. You would go</label>
			<select class="form-control" id="4">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Somewhere tropical</option>
				<option value="2">2. Vegas, baby!</option>
				<option value="3">3. A small town in Europe</option>
				<option value="4">4. The world's biggest amusement/water park</option>
				<option value="5">5. Doesnt matter as far are we are together!</option>
			</select><br>
			<label for="5">5. Which of the following would you most like to be friends with?</label>
			<select class="form-control" id="5">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Someone dramatic and entertaining</option>
				<option value="2">2. A fun and humorous type</option>
				<option value="3">3. A sporty and adventurous type</option>
				<option value="4">4. A great host and cook</option>
				<option value="5">5. A Nerd(Strongly Agree)</option>
			</select><br>
			<label for="6">6. At school you spent most of your lunchtimes:</label>
			<select class="form-control" id="6">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Helping others with their work</option>
				<option value="2">2. At the chip shop with your friends</option>
				<option value="3">3.Having a laugh with your gang</option>
				<option value="4">4. Deep in conversation with your best friend</option>
				<option value="5">5. In the cafeteria. I love food!</option>
			</select><br>
			<label for="7">7. Your best friend is emigrating. You’ll be losing:</label>
			<select class="form-control" id="7">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. The key to your social life</option>
				<option value="2">2. Your right arm</option>
				<option value="3">3. The person who keeps you grounded</option>
				<option value="4">4. The person you confide in</option>
				<option value="5">5. It wont really bother me. May be that's destiny.</option>
			</select><br>
			<label for="8">8. Your friend has done something you don’t like. You:</label>
			<select class="form-control" id="8">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Stop calling them</option>
				<option value="2">2. Let it go</option>
				<option value="3">3. Tell them you are not happy with them</option>
				<option value="4">4</option>
				<option value="5">5. Ask them to explain why they did it</option>
			</select><br>
			<label for="9">9.One of your friends hasn’t called you for a couple of months. You:</label>
			<select class="form-control" id="9">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Don’t really worry about it</option>
				<option value="2">2. Know this couldn’t happen. You’re in touch with your friends every day</option>
				<option value="3">3. Give her a ring to see what’s happened</option>
				<option value="4">4. Assume she/he has her/his reasons. She’ll be in touch eventually</option>
				<option value="5">5. Show up at theor place.</option>
			</select><br>
			<label for="10">10. What do you and your friends have in common?</label>
			<select class="form-control" id="10">
				<option hidden="" value="0">Select an option</option>
				<option value="1">1. Your hobbies</option>
				<option value="2">2. Practically everything</option>
				<option value="3">3. Your sense of humour</option>
				<option value="4">4. Your world view</option>
				<option value="5">5. Nothing :(</option>
			</select><br>
		</div>
		
		<button type="submit" class="btn btn-primary myBtn" id="submitBtn">Submit</button>
		<br>
	</form>

	<!-- Modal -->
	<div id="matchModal" class="modal fade" role="dialog">
		<div class="modal-dialog">

			<!-- Modal content-->
			<div class="modal-content">
				<div class="modal-header">                
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h2 class="modal-title"><strong>Best Match</strong></h2>
				</div>
				<div class="modal-body">
					<h2 id="matchName"></h2>
					<img id="matchImage" src="" alt="Oops!! Image not found" width="450px" height="500px">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>

		</div>
	</div>
	<div class="footer">
		<a href="/api/friends">API Friends List</a> | <a href="https://github.com/nabiya15/Friend-Finder.git">Github Repo</a>
	</div>
	<script type="text/javascript">
		$(document).ready(function(){
			$("#submitBtn").on("click", function(event){
				event.preventDefault();
				function validate(){
					var isValid = true;
					$(".form-control").each(function(){
						if($(this).val() === "" || $(this).val() === "0"){
							isValid = false;
						}
					});
					return isValid;			
				};
				console.log(validate());
				if(validate()){
					var currentUser = {
						name : $("#name").val(),
						photo : $("#pic").val(),
						scores : [
						$("#1").val(),
						$("#2").val(),
						$("#3").val(),
						$("#4").val(),
						$("#5").val(),
						$("#6").val(),
						$("#7").val(),
						$("#8").val(),
						$("#9").val(),
						$("#10").val()
						]
					};

					$.post("/api/friends", currentUser, function(results){

						$("#matchName").text(results.name);
						$("#matchImage").attr("src", results.photo);		
						$("#matchModal").modal("toggle");

					});
				} else {
					alert("Please fill out all fields");
				}
			});
		});

	</script>
</body>
</html>